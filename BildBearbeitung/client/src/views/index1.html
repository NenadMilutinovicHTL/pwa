<!-- <!DOCTYPE html> 
<html lang="de"> 
<head> 
    <meta charset="utf-8"/> 
    <title>HTML5 Geolocation Beispiel mit Hilfe von Google Maps</title>
    
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
</head>

<body>
    <div id="pos" style="width:800px; height:600px;">
        Deine Position wird ermittelt...
    </div>
    
    <script>
        function initialize(coords) {
            var latlng = new google.maps.LatLng(coords.latitude, coords.longitude);
            var myOptions = {
                zoom: 8,
                center: latlng,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("pos"), myOptions);
            
            var marker = new google.maps.Marker({
                position: latlng, 
                map: map, 
                title: "Hier bist du :)"
            }); 
        }
  
        navigator.geolocation.getCurrentPosition(function(position){ 
            initialize(position.coords);
        }, function(){
            document.getElementById('pos').innerHTML = 'Deine Position konnte leider nicht ermittelt werden';
        });
    </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <title>HTML5 Geolocation Beispiel mit Hilfe von Google Maps</title>

    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
  </head>

  <body>
    <div id="pos" style="width: 300px; height: 200px"></div>
    <button onclick="showCoordinates()">Koordinaten anzeigen</button>
    <!-- Button hinzugefügt -->

    <script>
      function initialize(coords) {
        var latlng = new google.maps.LatLng(coords.latitude, coords.longitude);
        var myOptions = {
          zoom: 8,
          center: latlng,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
        };
        var map = new google.maps.Map(document.getElementById('pos'), myOptions);

        var marker = new google.maps.Marker({
          position: latlng,
          map: map,
          title: 'Hier bist du :)',
        });
      }

      function showCoordinates() {
        // Funktion hinzugefügt
        navigator.geolocation.getCurrentPosition(
          function (position) {
            initialize(position.coords);
          },
          function () {
            document.getElementById('pos').innerHTML =
              'Deine Position konnte leider nicht ermittelt werden';
          },
        );
      }
    </script>
  </body>
</html>
